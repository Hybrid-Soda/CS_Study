### [NAT란?](https://youtu.be/Qle5cfCcuEY?list=PL0d8NnikouEWcF1jJueLdjRIC4HsUlULi)

#### 1. NAT (네트워크 주소 변환)

- NAT 정의: IP 패킷의 출발지 및 목적지 IP 주소와 포트 번호를 변경하는 기술

- 역할:

  - 주로 사설 IP와 공인 IP를 서로 변환하는 데 사용
  - IP 주소 부족 문제 해결 및 내부 네트워크 보안 강화

- 작동 방식:

  - NAT 테이블에 기록하여 IP 주소와 포트 번호를 변환
  - 예를 들어, 사설 네트워크의 IP 주소를 공인 IP 주소로 변경하여 외부 통신 가능
  - 외부에서 내부 네트워크로 접근 시 NAT 테이블을 통해 응답 패킷을 내부로 전달

#### 2. 포트 포워딩 (Port Forwarding)

- 포트 포워딩 정의: 특정 IP 주소와 포트 번호로 들어오는 요청을 내부 네트워크의 특정 장치로 전달하는 기술

- 필요성:

  - 사설 네트워크 내부의 서버에 외부에서 접근하기 위해 사용
  - NAT 환경에서는 외부에서 내부 네트워크 장치에 직접 접근 불가

- 작동 방식:

  - 공유기 또는 라우터에서 포트 포워딩 설정
  - 특정 공인 IP 주소의 특정 포트로 들어온 요청을 내부 사설 IP 주소 및 포트로 전달
  - 예시: 공인 IP xxx.xxx.xxx.xxx의 포트 1234로 들어온 요청을 내부 IP xxx.xxx.xxx.xxx의 포트 4321로 전달

### [포트 포워딩 설정 실습](https://youtu.be/EvYI14QdM6A?list=PL0d8NnikouEWcF1jJueLdjRIC4HsUlULi)

#### 1. 공유기에서 포트 포워딩 설정 방법

- 공유기의 게이트웨이 IP 주소를 웹 브라우저에 입력하여 공유기 설정 페이지에 접속

  - 기본 관리자 계정: admin/admin (공유기 모델에 따라 다를 수 있음)

- 고급 설정에서 NAT/포트 포워딩 메뉴로 이동
- 포트 포워딩 추가 절차:

  - 내부 IP 주소: 공인 IP로 들어온 요청을 전달할 내부 네트워크 장치의 IP
  - 외부 포트: 외부에서 접근할 때 사용할 포트 번호 (예: 80, 8080, 1234)
  - 내부 포트: 내부 서버에서 사용할 포트 번호 (외부 포트와 다르게 설정 가능)
  - 프로토콜 선택: TCP, UDP 또는 둘 다 선택

#### 2. 외부 접속 테스트

- **CMD (명령 프롬프트)**를 이용해 접속 테스트

```
 nc [공인 IP] 9999
```

- 연결이 성공하면 가상 머신에서 실행 중인 서버와 통신 가능
- 방화벽이 포트를 차단할 수 있으므로 방화벽 해제 후 실습 권장
